{"version":3,"file":"JS_DGS.js","sourceRoot":"","sources":["app/MyCanvas.ts","main.ts"],"names":[],"mappings":"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","sourcesContent":["export class MyCanvas {\n\n  private canvas: HTMLCanvasElement;\n  private ctx: CanvasRenderingContext2D;\n\n  private img: HTMLImageElement;\n\n  private mouse_x = 10;\n  private mouse_y = 10;\n\n  constructor() {\n    this.canvas = document.createElement('canvas') as HTMLCanvasElement;\n    this.ctx = this.canvas.getContext('2d');\n\n    this.canvas.style.height = '90vh';\n    this.canvas.style.cursor = 'none';\n\n    this.canvas.onmousemove = this.mouseMove.bind(this);\n\n    setInterval(this.render.bind(this), 33);\n  }\n\n  appendToBody() {\n    document.body.appendChild(this.canvas);\n  }\n\n  loadImage(imgFile: File) {\n    const fr = new FileReader();\n    fr.onload = () => {\n      this.img = new Image();\n      this.img.onload = () => {\n        this.canvas.width = this.img.width;\n        this.canvas.height = this.img.height;\n        console.log(this.canvas.offsetHeight);\n        console.log(this.canvas.height);\n      };\n      this.img.src = fr.result;\n    };\n    fr.readAsDataURL(imgFile);\n  }\n\n  mouseMove(e: MouseEvent) {\n    const scale = this.canvas.offsetHeight / this.canvas.height;\n\n    this.mouse_x = e.offsetX / scale;\n    this.mouse_y = e.offsetY / scale;\n  }\n\n  render() {\n    this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);\n    if (this.img) {\n      this.ctx.drawImage(this.img,0,0);\n    }\n\n    this.ctx.beginPath();\n    this.ctx.moveTo(0,this.mouse_y);\n    this.ctx.lineTo(this.canvas.width,this.mouse_y);\n    this.ctx.stroke();\n\n    this.ctx.beginPath();\n    this.ctx.moveTo(this.mouse_x, 0);\n    this.ctx.lineTo(this.mouse_x, this.canvas.height);\n    this.ctx.stroke();\n  }\n\n  saveAs() {\n    this.canvas.toBlob(function(blob) {\n      // noinspection TypeScriptUnresolvedFunction\n      saveAs(blob, \"pretty image.png\");\n    });\n  }\n\n}","import {MyCanvas} from \"./app/MyCanvas\";\r\n\r\nexport function main() {\r\n\r\n  const myCanvas = new MyCanvas();\r\n\r\n  myCanvas.appendToBody();\r\n\r\n  const input = document.createElement('input') as HTMLInputElement;\r\n  input.type = 'file';\r\n  document.body.appendChild(input);\r\n\r\n  const btn = document.createElement('button') as HTMLButtonElement;\r\n  btn.innerText = 'Kaydet';\r\n  document.body.appendChild(btn);\r\n\r\n\r\n  btn.onclick = () => {\r\n    myCanvas.saveAs();\r\n  };\r\n\r\n  input.onchange = () => {\r\n    const file = input.files[0];\r\n    myCanvas.loadImage(file);\r\n  };\r\n}"]}